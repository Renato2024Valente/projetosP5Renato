<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projetos de Imagem com p5.js</title>
    <style>
        body { font-family: Arial, sans-serif; background-color: #f4f4f4; padding: 20px; }
        h2 { color: #333; }
        pre { background: #222; color: #fff; padding: 10px; overflow-x: auto; border-radius: 5px; }
    </style>
</head>
<body>
    <h1>Projetos de Imagem com p5.js</h1>
    
    <h2>1. Editor de Desenho Simples</h2>
    <pre>
let brushColor;
let brushSize = 5;
function setup() {
  createCanvas(600, 400);
  background(255);
  brushColor = color(0);
}
function draw() {
  if (mouseIsPressed) {
    stroke(brushColor);
    strokeWeight(brushSize);
    line(mouseX, mouseY, pmouseX, pmouseY);
  }
}
function keyPressed() {
  if (key === 'c') background(255);
  if (key === 's') saveCanvas('meu_desenho', 'png');
}
function mouseWheel(event) {
  brushSize += event.delta > 0 ? -2 : 2;
}
    </pre>
    
    <h2>2. Filtros de Imagem</h2>
    <pre>
let img;
function preload() {
  img = loadImage('https://picsum.photos/400/300');
}
function setup() {
  createCanvas(400, 300);
  image(img, 0, 0);
}
function keyPressed() {
  if (key === '1') filtroPB();
  if (key === '2') filtroSepia();
}
function filtroPB() {
  loadPixels();
  for (let i = 0; i < pixels.length; i += 4) {
    let avg = (pixels[i] + pixels[i + 1] + pixels[i + 2]) / 3;
    pixels[i] = pixels[i + 1] = pixels[i + 2] = avg;
  }
  updatePixels();
}
function filtroSepia() {
  loadPixels();
  for (let i = 0; i < pixels.length; i += 4) {
    let r = pixels[i], g = pixels[i + 1], b = pixels[i + 2];
    pixels[i] = r * 0.393 + g * 0.769 + b * 0.189;
    pixels[i + 1] = r * 0.349 + g * 0.686 + b * 0.168;
    pixels[i + 2] = r * 0.272 + g * 0.534 + b * 0.131;
  }
  updatePixels();
}
    </pre>
    
    <h2>3. Gerador de Arte Aleatória</h2>
    <pre>
function setup() {
  createCanvas(600, 400);
  noLoop();
}
function draw() {
  background(0);
  for (let i = 0; i < 10; i++) {
    let x = random(width), y = random(height), size = random(20, 80);
    fill(random(255), random(255), random(255), 150);
    noStroke();
    ellipse(x, y, size, size);
  }
}
function mousePressed() {
  redraw();
}
    </pre>
    
    <h2>4. Câmera com Reconhecimento de Rosto</h2>
    <pre>
let video;
let detector;
function setup() {
  createCanvas(640, 480);
  video = createCapture(VIDEO);
  video.size(width, height);
  video.hide();
  detector = ml5.faceApi(video, { withLandmarks: true }, modelLoaded);
}
function modelLoaded() {
  detector.detect(gotResults);
}
function gotResults(err, results) {
  if (err) return;
  image(video, 0, 0);
  if (results.length > 0) {
    let face = results[0].landmarks;
    fill(255, 0, 0);
    for (let pt of face.positions) {
      ellipse(pt._x, pt._y, 5, 5);
    }
  }
  detector.detect(gotResults);
}
    </pre>
    
    <h2>5. Relógio Digital Animado</h2>
    <pre>
function setup() {
  createCanvas(400, 200);
  textAlign(CENTER, CENTER);
  textSize(32);
}
function draw() {
  background(0);
  fill(255);
  let h = hour();
  let m = minute();
  let s = second();
  text(nf(h,2) + ":" + nf(m,2) + ":" + nf(s,2), width/2, height/2);
}
    </pre>
    
    <h2>6. Simulador de Partículas</h2>
    <pre>
let particles = [];
function setup() {
  createCanvas(600, 400);
}
function draw() {
  background(0);
  for (let p of particles) {
    p.update();
    p.show();
  }
}
function mousePressed() {
  particles.push(new Particle(mouseX, mouseY));
}
class Particle {
  constructor(x, y) {
    this.x = x;
    this.y = y;
    this.vx = random(-2, 2);
    this.vy = random(-2, 2);
    this.alpha = 255;
  }
  update() {
    this.x += this.vx;
    this.y += this.vy;
    this.alpha -= 5;
  }
  show() {
    fill(255, this.alpha);
    noStroke();
    ellipse(this.x, this.y, 10);
  }
}
    </pre>
</body>
</html>
